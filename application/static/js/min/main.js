function detectIfBellowGuests(){0>$("#attenders").offset().top?$(this).addClass("back-white"):$(this).removeClass("back-white")}function preLoadImages(){for(var e=0,o=imagesToPreLoad.length;o>e;++e){var n=new Image;n.src=imagesToPreLoad[e]}}function setURLOnScroll(){return"carousel"==this.id||"spacer"==this.id?(setURL(" "),!1):(setURL(this.id),void 0)}function menu_nav_click(e){if(e.preventDefault(),slideMenu&&slideMenu.clickable())return e.preventDefault,!1;phone&&slideMenu.refindHeight();var o=this.href.split("/");return animateScroll("#"+o[o.length-1]),toggleOut(e),!1}function hideNavMenue(){showing_nav||(showing_nav=!0,setTimeout(function(){showing_nav=!1},1e3))}function toggleOut(){var e=$("#nav");e.hasClass("slideout")?(e.removeClass("slideout"),setTimeout(toggleTall,1e3)):(e.addClass("slideout"),setTimeout(toggleTall,1e3))}function toggleTall(){var e=$("#nav");e.hasClass("tall")?e.removeClass("tall"):e.addClass("tall")}function navSlideClick(){if(carousel_sliding)return!1;$("#carousel .active").removeClass("active"),$(this).addClass("active");var e=this.id;changeSlide($($("#carousel .heighlight")[0]),$($("#carousel").children()[parseInt(e)]))}function newSlide(){var e=$(this),o=getNextSlide(e);nextCaroselNav(),changeSlide(e,o)}function nextCaroselNav(){if(carousel_sliding)return!1;var e=$("#carousel .active");e.removeClass("active"),e.is(":last-child")?$($("#carousel-nav").children()[0]).addClass("active"):e.next().addClass("active")}function changeSlide(e,o){return carousel_sliding?!1:(e.removeClass("heighlight"),e.removeClass("text"),makeSlideOff(e),o.addClass("heighlight"),o.removeClass("off"),fadeInText(o),waitOutCarosel(),void 0)}function fadeInText(e){e=makeInToJqueryElementIfNeeded(e),setTimeout(function(){e.addClass("text")},1500)}function getNextSlide(e){return e=makeInToJqueryElementIfNeeded(e),e.is(":last-child")?$($(e[0].parentNode).children()[1]):e.next()}function makeSlideOff(e){e=makeInToJqueryElementIfNeeded(e),setTimeout(function(){e.addClass("off")},1e3)}function waitOutCarosel(){carousel_sliding=!0,setTimeout(function(){carousel_sliding=!1},1500)}function makeInToJqueryElementIfNeeded(e){return e instanceof jQuery||(e=$(e)),e}function hide_carocel(e){"up"==e?carousel_conatiner.removeClass("dis-none"):carousel_conatiner.hasClass("dis-none")||carousel_conatiner.addClass("dis-none")}function loadGoogleMaps(e){"down"==e&&0==$("#map-container").children().length&&loadScript()}function gmaploaded(){var e=new google.maps.LatLng(43.8613492,-79.3667179),o={zoom:13,center:e,scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!1,draggable:!0,streetViewControl:!1,streetViewControl:!1,panControl:!1,rotateControl:!1,zoomControl:!1,styles:[{stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#26264d"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#4d4d72"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ececf4"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"on"},{color:"#ffa07c"}]},{featureType:"transit",stylers:[{color:"#d38080"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ffa719"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#2c2c5b"}]},{featureType:"road",elementType:"labels.text",stylers:[{visibility:"on"}]}]};map=new google.maps.Map(document.getElementById("map-container"),o);for(var n=[],t=0,l=map_location.length;l>t;++t)n.push(makeIcon(map_location[t][0],map_location[t][1],map_location[t][2],map_location[t][3]));map_all_locations=n,phone||makeLegend(n),setTimeout(function(){$("#map-loading").addClass("fade"),setTimeout(function(){$("#map-loading").addClass("off")},1e3)},1e3)}function makeLegend(e){var o=document.getElementById("map"),n=document.createElement("ul");n.id="legend",o.appendChild(n);for(var t=0,l=e.length;l>t;++t)(function(){var o=e[t],l=document.createElement("li");l.className=o[3];var a=document.createElement("a");a.className=o[3],a.href="#",a.innerHTML=o[1].title,l.appendChild(a),n.appendChild(l),$(a).click(function(e){return e.preventDefault(),closeAllTabs(),map.panTo(o[2]),o[0].open(map,o[1]),"pilots"==o[3]?map.setZoom(12):"drivers"==o[3]?map.setZoom(14):map.setZoom(16),!1})})(t);var a=document.createElement("li");a.id="controll-pannel",n.appendChild(a);var i=document.createElement("a"),s=document.createElement("a");a.appendChild(i),a.appendChild(s),i.innerHTML="+",$(i).click(function(){map.setZoom(map.getZoom()+1)}),s.innerHTML="-",$(s).click(function(){map.setZoom(map.getZoom()-1)})}function closeAllTabs(){for(var e=0,o=map_all_locations.length;o>e;++e)map_all_locations[e][0].close()}function makeIcon(e,o,n,t){var o=new google.maps.LatLng(o[0],o[1]),l=new google.maps.InfoWindow({content:"<div class='info-box'><h2>"+e+"</h2><p>"+n+"</p></div>",display:!1}),a={url:staticLink+"assets/icons/icon-loc-"+t+".png",size:new google.maps.Size(26,47.5),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(26,47.5),scaledSize:new google.maps.Size(26,47.5)},i=new google.maps.Marker({position:o,map:map,title:e,icon:a});return google.maps.event.addListener(i,"click",function(){closeAllTabs(),map.panTo(o),isInfoWindowOpen(l)?l.close():l.open(map,i)}),[l,i,o,t]}function isInfoWindowOpen(e){var o=e.getMap();return null!==o&&o!==void 0}function loadScript(){var e=document.createElement("script");e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&callback=gmaploaded",document.body.appendChild(e)}function fadeInSponsers(){setTimeout(function(){fadeInNext($(".sponsor"),0)},200)}function fadeInNext(e,o){return $(e[o]).fadeIn("slow"),o+=1,o>e.length?!1:(setTimeout(function(){fadeInNext(e,o)},500),void 0)}function scrollFromCarocel(e){return scrolling?!1:("down"==e&&500>$(window).scrollTop()&&(scrolling=!0,$("html, body").animate({scrollTop:$("#about").offset().top},1e3,function(){scrolling=!1})),void 0)}function nav_yellow_white(e){"up"==e?$("body").removeClass("white-nav").addClass("yellow-nav"):$("body").removeClass("yellow-nav").addClass("white-nav")}function nav_white_blue(e){"up"==e?$("body").removeClass("blue-nav").addClass("white-nav"):$("body").removeClass("white-nav").addClass("blue-nav")}function nav_blue_yellow(e){"up"==e?$("body").removeClass("yellow-nav").addClass("blue-nav"):$("body").removeClass("blue-nav").addClass("yellow-nav")}function setMarginTop(){$("#spacer").css({"margin-top":$(window).outerHeight()}),$("body, html, #carousel").height($(window).outerHeight())}function stopScrollIfScrolling(e){return scrolling?(e.preventDefault(),!1):void 0}function animateScroll(e){return scrolling?!1:(e?(scrolling=!0,$("html, body, #scroller-container").animate({scrollTop:$(e).offset().top+$("#scroller-container").scrollTop()},500,function(){scrolling=!1})):console.log("ERROR: No element passed into animateScroll"),void 0)}function setURL(e){"[object Array]"===Object.prototype.toString.call(e)&&(e=e[e.length-1]),history&&history.pushState?history.pushState(e,"",e):window.location.replace("#"+e)}function setUpMap(){}function loadMapOnClick(){var e=$(this).children()[0];e.style.opacity="0",setTimeout(function(){e.innerHTML="Loading Map",e.style.opacity="1",loadGoogleMaps("down")},500)}function moveContact(){}function checkPhoneHeight(){if(!phone)return!1;var e=$(window).width();winWidth!=e&&($("body, html, #carousel").height($("body").height()),winWidth=e)}deskTop&&skrollr&&skrollr.init({forceHeight:!1});var carousel_sliding=!1,carousel_conatiner=!1,windowHeight=$(window).outerHeight(),scrolling=!0,showing_nav=!1,slideMenu=!1,winWidth=0,sldNum=1;checkPhoneHeight(),$(window).resize(setMarginTop),setMarginTop(),$(document).ready(function(){carousel_conatiner=$("#carousel"),$(".slide").click(newSlide),$(".slide-nav").click(navSlideClick),$(".nav-clicker").click(menu_nav_click),$("#click-away").click(hideNavMenue),$("#new-carousel-container").slick({arrows:!1,dots:!0,autoplay:!0,autoplaySpeed:1e4,pauseOnFocus:!1}),deskTop?($("#dimond").click(function(){scrollFromCarocel("down")}),$("#nav-button").click(toggleOut),$("#about").waypoint(hide_carocel),$("#map").waypoint(loadGoogleMaps),$("#sponsors").waypoint(fadeInSponsers,{offset:100}),$("#sponsors").waypoint(hideNavMenue,{offset:-50}),$(window).mousewheel(stopScrollIfScrolling),50>$(window).scrollTop()&&$("#carousel").waypoint(scrollFromCarocel,{offset:-100}),$("#attenders").waypoint(nav_yellow_white),$("#map").waypoint(nav_white_blue),$("#sponsors").waypoint(nav_blue_yellow),$(document).scrollsnap({snaps:".snap",proximity:100,offset:2})):tablet||phone&&(slideMenu=$("#nav-container").pullSlider({inmode:!0,debug:!1}),setUpMap(),moveContact())}),$(window).load(function(){phone&&(slideMenu.manualResize(),slideMenu.refindHeight(),$("#scroller-container").scroll(detectIfBellowGuests)),preLoadImages(),setTimeout(function(){$("#loading-screen").fadeOut("slow"),scrolling=!1,setTimeout(function(){$(".heighlight").addClass("text")},1e3)},1e3)});var map,map_all_locations;